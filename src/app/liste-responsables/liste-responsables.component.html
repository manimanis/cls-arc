<div id="liste-responsables" class="container">

  <form-edit-responsable></form-edit-responsable>

  <div>
    <h2 class="mt-3 mb-1">Liste des responsables</h2>

    <search-field *ngIf="canSearch" class="my-2" (searchPattenModified)="searchPattern($event)"></search-field>

    <div class="summary small">
      <span><strong># Total :</strong> {{recordsCount}}</span>
      <span><strong># affichés : </strong> {{contacts.length}}</span>
      <span><strong># trouvés :</strong> {{contactsItemsCount}}</span>
    </div>

    <table-responsables [contacts]="contacts" (orderChanged)="changeOrderDirection($event)"
      (itemSelection)="toggleSelection($event)" (editContactClicked)="editContact($event)"></table-responsables>

    <div *ngIf="contactsItemsCount > contacts.length">
      <a [routerLink]="" (click)="fetchMore()">Afficher plus...</a>
    </div>
  </div>

  <div *ngIf="selectedContacts().length > 0">
    <h2 class="mt-3 mb-1">Eléments sélectionnés</h2>

    <div class="alert alert-info my-2">
      <strong>Nombre de responsables : </strong> {{selectedContacts().length}}
    </div>

    <table-responsables [contacts]="selectedContacts()" [canReorder]="false" [canSelect]="false" [canEdit]="false"
      [canDelete]="false" [canRemove]="true">
    </table-responsables>
  </div>
</div>
